# 如何维护并优化一个复杂项目

## 背景

最近在做一个脚手架的性能优化工作，这个脚手架的特点是

+   开发者对原代码逻辑并不是很熟悉
+   逻辑较复杂，可维护性较差
+   性能较差

希望实现的效果是

+   逻辑清晰，可维护性强
+   性能提升明显

## 优化思路

+   原则：小步快跑

     需要优化的地方太多，这个时候 “小步快跑” 的原则，能够帮助我们有条不紊快速地优化。
    
     整个优化的过程，基本是在遵循这个原则进行的，效果还是不错的，保证了功能连续性。
   
+   第一阶段：优化代码写法，不做代码逻辑改动
+   第二阶段：优化非性能优化部分代码逻辑，性能优化部分不做处理
+   第三阶段：优化性能部分逻辑

## 优化过程
    
+   第一阶段：修改代码写法，不做代码逻辑的改动

    +   增

        添加必要的注释

    +   删

        删除无用的代码
        
        删除无用的注释

    +   改

        +   全面 ES6 化
        
            ES5 的 `var` 等的各种问题（影响全局、不能避免重复声明等）、函数写法不够简洁等，也是影响代码逻辑的一环。
        
        +   语义化命名
        
            语义化各种命名，保证可读性
        
+   第二阶段：优化非性能优化部分代码逻辑，性能优化部分不做处理

    第一个阶段结束后，代码写法上的问题已经解决，但是代码逻辑上还没有做优化，这个阶段主要解决 **非性能优化部分** 的逻辑。
    
+   第三阶段：优化性能部分逻辑

    第一阶段和第二阶段完成后，代码写法、代码逻辑已经比较清晰了，这时就可以集中精力处理性能优化部分的工作。
    
## 总结
    
作为开发者，在工作中经常会遇到维护一个之前并不是很熟悉但又有一定复杂度的项目，既然交给你负责了，就把它做好，而不是维持功能。**胆大心细**、**持续优化**才能把工作做好。

